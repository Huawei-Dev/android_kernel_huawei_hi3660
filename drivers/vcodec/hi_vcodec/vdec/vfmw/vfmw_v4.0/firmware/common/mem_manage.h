/*--------------------------------------------------------------------------------------------------------------------------*/
/*!!Warning: This is a key information asset of Huawei Tech Co.,Ltd                                                         */
/*CODEMARK:kOyQZYzjDpyGdBAEC2GaWinjiDDUykL9e8pckESWBbMVmSWkBuyJO01cTiy3TdzKxGk0oBQa
mSMf7J4FkTpfv/JzwTgKEHe/9N4yU5rqhEDlG50G/Vcvyq2txYFjqt/X5GLe/SnYbE4r/A06
+TaRl2fGTEEd3YBXyOVSvdtUywOZcVuAjeOU70Jd/9T34/2B4+wUiTtCNv7BDjQ4P/TNWKVP
JAn8RF8M3jQSd3Nfj2JPRwvfmbARLxPLAu9A0+xLYgFf4jjC9vd7JeBKfrlxLA==*/
/*--------------------------------------------------------------------------------------------------------------------------*/

#ifndef _VFMW_MEM_MANAGE_HEAD_
#define _VFMW_MEM_MANAGE_HEAD_

#ifdef __cplusplus
extern "C" {
#endif

#include "vfmw.h"


/*######################################################################*/
/*     ????                                                             */
/*######################################################################*/
#define MEM_MAN_ERR  -1
#define MEM_MAN_OK    0


/*###########################################################################################*/
/*     ????????                                                                              */
/*###########################################################################################*/
typedef struct
{
    UADDR      PhyAddr;
    UINT32     Length;
    SINT32     IsSecMem;
    UINT8     *VirAddr;
} MEM_RECORD_S;

typedef struct
{
    UADDR MemBaseAddr;
    SINT32 MemSize;
} MEM_INIT_S;


/*###########################################################################################*/
/*     ????????                                                                              */
/*###########################################################################################*/

/************************************************************************/
/*    ??????                                                            */
/************************************************************************/
VOID MEM_InitMemManager(MEM_INIT_S *pMemInit);

/************************************************************************/
/*    ????????????                                                      */
/************************************************************************/
VOID MEM_ManagerWithOperation(INIT_INTF_S *pIntf);

/************************************************************************/
/*    ????????????????                                                  */
/************************************************************************/
VOID MEM_ManagerClearOperation(VOID);

/************************************************************************/
/*    ????????                                                          */
/************************************************************************/
SINT32 MEM_AddMemRecord(UADDR PhyAddr, VOID* VirAddr, UINT32 Length);

/************************************************************************/
/*   ??????????                                                         */
/************************************************************************/
VOID MEM_DumpRecord(VOID);

/************************************************************************/
/*    ????????                                                          */
/************************************************************************/
SINT32 MEM_DelMemRecord(UADDR PhyAddr, VOID* VirAddr, UINT32 Length);

/************************************************************************/
/*   ?????????? ???????? -> ????????                                    */
/************************************************************************/
VOID *MEM_Phy2Vir(UADDR PhyAddr);

/************************************************************************/
/*   ?????????? ???????? -> ????????                                    */
/************************************************************************/
UADDR MEM_Vir2Phy(UINT8 *VirAddr);

/************************************************************************/
/*   mem?????? ????????????????????????word                             */
/************************************************************************/
VOID MEM_WritePhyWord(UADDR PhyAddr, UINT32 Data32);

/************************************************************************
mem?????? ????????????????????????word
          ??????????????????0                                  
************************************************************************/
UINT32 MEM_ReadPhyWord(UADDR PhyAddr);

/************************************************************************/
/*   mem?????? ??????????????phy -> phy??                               */
/************************************************************************/
VOID MEM_CopyPhy2Phy(UADDR DstPhyAddr, UADDR SrcPhyAddr, UINT32 Length);

/************************************************************************/
/*   mem?????? ??????????????phy -> vir??                               */
/************************************************************************/
VOID MEM_CopyPhy2Vir(UINT8 *DstVirAddr, UADDR SrcPhyAddr, UINT32 Length);

/************************************************************************/
/*   mem?????? ??????????????vir -> phy??                               */
/************************************************************************/
VOID MEM_CopyVir2Phy(UADDR DstPhyAddr, UINT8* SrcVirAddr, UINT32 Length);

/************************************************************************/
/*   ??????????(MEM_RECORD_S)                                           */
/************************************************************************/
SINT32 MEM_AllocMemBlock(SINT8 *MemName, UINT32 ExpectedLen, MEM_RECORD_S *pMemRecord, SINT32 IsCached);

/************************************************************************/
/*   ??????????                                                         */
/************************************************************************/
VOID   MEM_ReleaseMemBlock(UADDR PhyAddr, UINT8 *VirAddr );

/************************************************************************/
/*   ??????????(MEM_DESC_S)                                             */
/************************************************************************/
SINT32 MEM_AllocMemBlock_2(UINT8 *pMemName, UINT32 ExpectedLen, MEM_DESC_S *pMemDesc, UINT32 IsCached);

/************************************************************************/
/*   ??????????(MEM_DESC_S)                                             */
/************************************************************************/
SINT32 MEM_ReleaseMemBlock_2(MEM_DESC_S *pMemDesc);

/************************************************************************/
/*   ??????????                                                         */
/************************************************************************/
SINT32 MEM_MapRegisterAddr(UADDR RegStartPhyAddr, UINT32 RegByteLen, MEM_RECORD_S *pMemRecord );
VOID   MEM_UnmapRegisterAddr(UADDR PhyAddr, UINT8 *VirAddr, UINT32 Size);


#ifdef __cplusplus
}
#endif

#endif /* end of '#ifndef _VFMW_MEM_MANAGE_HEAD_' */

